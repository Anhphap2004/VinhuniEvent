@model IEnumerable<VinhuniEvent.Models.Event>
@{
	List<EventCategory> category = ViewBag.category;
	List<Event> eventnew = ViewBag.eventnew;
	List<Event> eventhighlight = ViewBag.EventHightLight;
}
<!-- Start Events Page -->
<section class="vinhuni-events-page" style="padding: 40px 20px; background: #f8f9fa;">
	<div class="vinhuni-events-container" style="max-width: 1400px; margin: 0 auto;">

		<!-- Search Section -->
		<div class="vinhuni-search-section" style="background: white; padding: 25px 30px; margin-top:100px;margin-bottom: 30px; box-shadow: 0 2px 6px rgba(0,0,0,0.06);">
			<div style="display: flex; gap: 12px; align-items: center; flex-wrap: wrap;">
				<input type="text" placeholder="Tên sự kiện, từ khóa..." style="flex: 1; min-width: 220px; padding: 10px 18px; border: 1px solid #ddd; font-size: 13px;">
				<input type="date" style="padding: 10px 18px; border: 1px solid #ddd; font-size: 13px; width: 160px;">
				<select style="padding: 10px 18px; border: 1px solid #ddd; font-size: 13px; width: 160px;">
					<option>Tất cả địa điểm</option>
					<option>Hội trường A</option>
					<option>Hội trường B</option>
					<option>Sân vận động</option>
				</select>
				<button style="padding: 10px 28px; background: #667eea; color: white; border: none; font-weight: 600; cursor: pointer; font-size: 13px;">Tìm kiếm</button>
			</div>
		</div>

		<!-- Main Content with Sidebar -->
		<div style="display: grid; grid-template-columns: 280px 1fr; gap: 25px;">

			<!-- Left Sidebar -->
			<div class="vinhuni-sidebar">
				<!-- Categories -->
				<div class="vinhuni-categories-box" style="background: white; padding: 22px; margin-bottom: 20px; box-shadow: 0 2px 6px rgba(0,0,0,0.06);">
					<h4 style="font-size: 17px; font-weight: 600; color: #333; margin-bottom: 18px; padding-bottom: 10px; border-bottom: 2px solid #667eea;">Danh mục sự kiện</h4>
					<ul style="list-style: none; padding: 0; margin: 0;">
						<li style="margin-bottom: 10px;">
							<a href="@Url.Action("Index", "Events")" class="vinhuni-cat-link" style="display: flex; justify-content: space-between; align-items: center; padding: 9px 12px; text-decoration: none; color: #666; font-size: 13px; border-left: 3px solid transparent;">
								<span>Tất Cả</span>
								<span style="background: #f0f0f0; padding: 2px 8px; font-size: 11px; font-weight: 600; color: #666;">24</span>
							</a>
						</li>
						@foreach (var p in category)
						{
							<li style="margin-bottom: 10px;">
								<a href="@Url.Action("Index", "Events", new { categoryid = p.CategoryId })" class="vinhuni-cat-link" style="display: flex; justify-content: space-between; align-items: center; padding: 9px 12px; text-decoration: none; color: #666; font-size: 13px; border-left: 3px solid transparent;">
									<span>@p.CategoryName</span>
									<span style="background: #f0f0f0; padding: 2px 8px; font-size: 11px; font-weight: 600; color: #666;">24</span>
								</a>
							</li>
						}
					</ul>
				</div>

				<!-- Advertisement 1 -->
				<div class="vinhuni-ad-box-1" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 22px; margin-bottom: 20px; text-align: center; color: white; box-shadow: 0 4px 8px rgba(0,0,0,0.12);">
					<div style="font-size: 36px; margin-bottom: 12px;">🎯</div>
					<h4 style="font-size: 15px; font-weight: 600; margin-bottom: 8px;">Đăng ký sự kiện ngay!</h4>
					<p style="font-size: 12px; margin-bottom: 14px; opacity: 0.9;">Nhận thông báo sớm nhất về các sự kiện hot</p>
					<a href="#" style="display: inline-block; padding: 9px 18px; background: white; color: #667eea; text-decoration: none; font-weight: 600; font-size: 12px;">Đăng ký ngay</a>
				</div>

				<!-- Advertisement 2 -->
				<div class="vinhuni-ad-box-2" style="background: white; padding: 18px; box-shadow: 0 2px 6px rgba(0,0,0,0.06);">
					<img src="https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=400" alt="Ad" style="width: 100%; height: 140px; object-fit: cover; margin-bottom: 12px;">
					<h5 style="font-size: 13px; font-weight: 600; color: #333; margin-bottom: 6px;">Hội thảo công nghệ 2025</h5>
					<p style="font-size: 11px; color: #666; margin-bottom: 10px;">Đăng ký tham gia sự kiện lớn nhất năm</p>
					<a href="#" style="display: inline-block; color: #667eea; font-weight: 600; font-size: 11px; text-decoration: none;">Xem chi tiết</a>
				</div>
			</div>

			<!-- Right Content -->
			<div class="vinhuni-main-content">

				<!-- Sự kiện nổi bật -->
				<div class="vinhuni-featured-events" style="margin-bottom: 50px;">
					<div class="vinhuni-section-header" style="margin-bottom: 25px;">
						<h2 style="font-size: 26px; font-weight: 400; color: #0066CC; font-family: 'Arial', sans-serif; margin-bottom: 6px; text-transform: uppercase;">
							Sự kiện nổi bật
						</h2>
						<p style="color: #666; font-size: 13px;">Những sự kiện được quan tâm nhiều nhất</p>
					</div>

					<div class="vinhuni-events-grid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 18px;">

						@foreach (var p in eventhighlight)
						{
							<div class="vinhuni-event-card"
								 style="background: #fff; overflow: hidden; border-radius: 10px; box-shadow: 0 3px 8px rgba(0,0,0,0.08); transition: transform 0.2s ease, box-shadow 0.2s ease;">
								<div style="position: relative; height: 160px; overflow: hidden;">
									<img src="~/main/img/events/@p.Image"
										 alt="Event"
										 style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;">
									<div style="position: absolute; top: 10px; right: 10px; background: #ff6b35; color: #fff; padding: 4px 10px; font-size: 10px; font-weight: 600; border-radius: 4px;">
										NỔI BẬT
									</div>
								</div>
								<div style="padding: 14px 16px;">
									<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; font-size: 11px; color: #777;">
										<span>🕒 @p.CreatedDate?.ToString("dd/MM/yyyy")</span>
										<span>👥 @p.CurrentParticipants / @p.MaxParticipants</span>
									</div>
									<h4 style="font-size: 16px; font-weight: 700; color: #222; margin-bottom: 6px; line-height: 1.35; height: 42px; overflow: hidden;">
										@p.Title
									</h4>
									<p style="color: #666; font-size: 14px; margin-bottom: 10px;">📍 @p.Location</p>
									<a href="@Url.Action("Details", "Events", new { slug = p.Slug, id = p.EventId })"
									   style="display: inline-block; color: #667eea; font-weight: 600; font-size: 12px; text-decoration: none;">
										Chi Tiết →
									</a>
								</div>
							</div>


						}

					</div>
				</div>

				<!-- Sự kiện mới nhất -->
				<div class="vinhuni-latest-events" style="margin-bottom: 50px;">
					<div class="vinhuni-section-header" style="margin-bottom: 25px;">
						<h2 style="font-size: 26px; font-weight: 400; color: #0066CC; font-family: 'Arial', sans-serif; margin-bottom: 6px; text-transform: uppercase;">
							Sự kiện mới nhất
						</h2>
						<p style="color: #666; font-size: 13px;">Các sự kiện vừa được đăng tải</p>
					</div>

					<div class="vinhuni-events-grid"
						 style="display: grid; grid-template-columns: repeat(auto-fit, minmax(210px, 1fr)); gap: 16px; padding: 8px;">
						@foreach (var p in eventnew)
						{
							<div class="vinhuni-event-card"
								 style="background: #fff; border-radius: 10px; overflow: hidden; box-shadow: 0 3px 8px rgba(0,0,0,0.06); transition: all 0.25s ease-in-out;">

								<!-- Hình sự kiện -->
								<div style="position: relative; height: 135px; overflow: hidden;">
									<img src="~/main/img/events/@p.Image" alt="Event"
										 style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;">
									<div style="position: absolute; top: 8px; right: 8px; background: linear-gradient(90deg,#4CAF50,#5edc8a); color: #fff; padding: 3px 8px; font-size: 9px; font-weight: 600; border-radius: 5px;">
										MỚI
									</div>
								</div>

								<!-- Nội dung sự kiện -->
								<div style="padding: 10px 12px;">
									<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; font-size: 10px; color: #777;">
										<span>🕒 @p.CreatedDate?.ToString("dd/MM/yyyy")</span>
										<span>👥 @p.MaxParticipants</span>
									</div>

									<h4 style="font-size: 16px; font-weight: 700; color: #222; margin-bottom: 5px; line-height: 1.3; height: 38px; overflow: hidden;">
										@p.Title
									</h4>

									<p style="color: #555; font-size: 14px; margin-bottom: 10px;">📍 @p.Location</p>

									<a href="@Url.Action("Details", "Events", new { slug = p.Slug, id = p.EventId })"
									   style="display: inline-block; color: #5b6cfb; font-weight: 600; font-size: 12px; text-decoration: none;">
										Chi tiết →
									</a>
								</div>
							</div>
						}
					</div>



				</div>

				<!-- Tất cả sự kiện -->
				<div class="vinhuni-all-events">
					<div class="vinhuni-section-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
						<div>
							<h2 style="font-size: 26px; font-weight: 400; color: #0066CC; font-family: 'Arial', sans-serif; margin-bottom: 6px; text-transform: uppercase;">
								Tất cả sự kiện
							</h2>
							<p style="color: #666; font-size: 13px;">Danh sách đầy đủ các sự kiện</p>
						</div>
						<select style="padding: 9px 14px; border: 1px solid #ddd; font-size: 12px; color: #666;">
							<option>Mới nhất</option>
							<option>Sắp diễn ra</option>
							<option>Đã kết thúc</option>
						</select>
					</div>

					<div class="vinhuni-events-grid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 18px; margin-bottom: 35px;">
						@foreach (var p in Model)
						{
							
							<!-- All Event Cards -->
							<div class="vinhuni-event-card" style="background: white; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.06);">
								<div style="height: 150px; overflow: hidden;">
									<img src="~/main/img/events/@p.Image" alt="Event" style="width: 100%; height: 100%; object-fit: cover;">
								</div>
								<!-- Nội dung sự kiện -->
								<div style="padding: 10px 12px;">
									<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; font-size: 10px; color: #777;">
										<span>🕒 @p.CreatedDate?.ToString("dd/MM/yyyy")</span>
										<span>👥 @p.MaxParticipants</span>
									</div>

									<h4 style="font-size: 16px; font-weight: 700; color: #222; margin-bottom: 5px; line-height: 1.3; height: 38px; overflow: hidden;">
										@p.Title
									</h4>

									<p style="color: #555; font-size: 14px; margin-bottom: 10px;">📍 @p.Location</p>

									<a href="@Url.Action("Details", "Events", new { slug = p.Slug, id = p.EventId })"
									   style="display: inline-block; color: #5b6cfb; font-weight: 600; font-size: 12px; text-decoration: none;">
										Chi tiết →
									</a>
								</div>
							</div>
						}
					</div>
				</div>

			</div>

		</div>
	</div>
</section>
<!-- End Events Page -->

<style>
	.vinhuni-cat-link:hover {
		color: #667eea !important;
		background: #f8f9ff !important;
		border-left-color: #667eea !important;
	}

	.vinhuni-event-card {
		transition: transform 0.3s ease, box-shadow 0.3s ease;
	}

		.vinhuni-event-card:hover {
			transform: translateY(-4px);
			box-shadow: 0 6px 15px rgba(0,0,0,0.12) !important;
		}

	.vinhuni-pagination a:hover {
		background: #667eea !important;
		color: white !important;
		border-color: #667eea !important;
	}

	@@media (max-width: 1200px) {
		.vinhuni-events-grid {
			grid-template-columns: repeat(3, 1fr) !important;
		}
	}

	@@media (max-width: 900px) {
		.vinhuni-events-container > div:last-child {
			grid-template-columns: 1fr !important;
		}

		.vinhuni-sidebar {
			display: none;
		}

		.vinhuni-events-grid {
			grid-template-columns: repeat(2, 1fr) !important;
		}
	}

	@@media (max-width: 600px) {
		.vinhuni-events-grid {
			grid-template-columns: 1fr !important;
		}

		.vinhuni-search-section > div {
			flex-direction: column !important;
		}

		.vinhuni-search-section input,
		.vinhuni-search-section select,
		.vinhuni-search-section button {
			width: 100% !important;
		}
	}
</style>